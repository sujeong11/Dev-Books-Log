## ê¸°ìƒ ëª¨ë‹ˆí„°ë§ ì–´í”Œë¦¬ì¼€ì´ì…˜

- 3ê°€ì§€ ìš”ì†Œë¡œ ì´ë£¨ì–´ì§„ë‹¤.
    - `ê¸°ìƒ ìŠ¤í…Œì´ì…˜` (ì‹¤ì œ ê¸°ìƒ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ë¬¼ë¦¬ ì¥ë¹„)
    - `WeatherData ê°ì²´` (ê¸°ìƒ ìŠ¤í…Œì´ì…˜ìœ¼ë¡œë¶€í„° ì˜¤ëŠ” ì •ë³´ë¥¼ ì¶”ì í•˜ëŠ” ê°ì²´)
    - ì‚¬ìš©ìì—ê²Œ í˜„ì¬ ê¸°ìƒ ì¡°ê±´ì„ ë³´ì—¬ì£¼ëŠ” `ë””ìŠ¤í”Œë ˆì´ ì¥ë¹„`
- **WeatherData ê°ì²´**ë¡œ í˜„ì¬ ì¡°ê±´, ê¸°ìƒ í†µê³„, ê¸°ìƒ ì˜ˆë³´ ì´ë ‡ê²Œ 3ê°€ì§€ í•­ëª©ì„ **ë””ìŠ¤í”Œë ˆì´ ì¥ë¹„ì—ì„œ ê°±ì‹ í•´ ê°€ë©´ì„œ ë³´ì—¬ì£¼ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜**ì„ ë§Œë“¤ì–´ë³´ì.

<br>
<br>

## ê¸°ìƒ ìŠ¤í…Œì´ì…˜ ì½”ë“œì™€ ë¬¸ì œì 

```java
public class WeatherData {
	
  // ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ì„ ì–¸

  public void measurementsChanged() {
		
    // ìµœì‹  ì¸¡ì •ê°’ì„ ê°€ì ¸ì˜¨ë‹¤.
    float temp = getTemperature();
    float humidity = getHumidity();
    float pressure = getPressure();

    // ê° ë””ìŠ¤í”Œë ˆì´ìŠ¤ë¥¼ ê°±ì‹ 
    currentCondtionDisplay.update(temp, humidity, pressure);
    statisticsDisplay.update(temp, humidity, pressure);
    forecastDisplay.update(temp, humidity, pressure);
  }

  // ê¸°íƒ€ ë©”ì„œë“œ
}
```

- ë¬¸ì œì 
    - ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ë‹Œ êµ¬ì²´ì ì¸ êµ¬í˜„ì„ ë°”íƒ•ì´ë‹¤.
    - ìƒˆë¡œìš´ ë””ìŠ¤í”Œë ˆì´ í•­ëª©ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤.
    - ì‹¤í–‰ ì¤‘ì— ë””ìŠ¤í”Œë ˆì´ í•­ëª©ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ìˆ˜ ì—†ë‹¤.
    - ë°”ë€ŒëŠ” ë¶€ë¶„ì„ ìº¡ìŠí™”í•˜ì§€ ì•ŠëŠ”ë‹¤.

<br>
<br>

## ì˜µì €ë²„ íŒ¨í„´

- `ë…ì`ê°€ íŠ¹ì • `ì‹ ë¬¸ì‚¬`ì— `êµ¬ë…` ì‹ ì²­ì„ í•˜ë©´ ë§¤ë²ˆ ìƒˆë¡œìš´ ì‹ ë¬¸ì´ ë‚˜ì˜¬ ë•Œë§ˆë‹¤ ë°°ë‹¬ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.
- ì‹ ë¬¸ì„ ë” ì´ìƒ ë³´ê³  ì‹¶ì§€ ì•Šìœ¼ë©´ êµ¬ë… í•´ì§€ë¥¼ ì‹ ì²­í•œë‹¤.

ğŸ’¡ **ì‹ ë¬¸ì‚¬ + êµ¬ë…ì = ì˜µì €ë²„ íŒ¨í„´**

- ì˜µì €ë²„ íŒ¨í„´ì€ ì‹ ë¬¸ êµ¬ë… ì„œë¹„ìŠ¤ì™€ ë¹„ìŠ·í•˜ë‹¤. 
- **ì‹ ë¬¸ì‚¬** - `ì£¼ì œ`(subject)
- **êµ¬ë…ì** - `ì˜µì €ë²„`(observer)

### ì •ì˜

ğŸ’¡ **í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë°”ë€Œë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ì—°ë½ì´ ê°€ê³  ìë™ìœ¼ë¡œ ë‚´ìš©ì´ ê°±ì‹ ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ** `ì¼ëŒ€ë‹¤ ì˜ì¡´ì„±`**ì„ ì •ì˜í•œë‹¤.**

### êµ¬ì¡°

- ì¸í„°í˜ì´ìŠ¤: Subject â†’ ì¸í„°í˜ì´ìŠ¤: Observer
- `1 : N`

### Q&A

1. ì´ ë‚´ìš©ì´ `ì˜ì¡´ì„±`ê³¼ ë¬´ìŠ¨ ìƒê´€ì´ ìˆë‚˜ìš”?
- ë°ì´í„°ì˜ ì£¼ì¸ì€ ì£¼ì œì…ë‹ˆë‹¤. **ì˜µì €ë²„ëŠ” ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ì£¼ì œì—ì„œ ê°±ì‹ í•´ ì£¼ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì…ì¥ì´ê¸°ì— ì˜ì¡´ì„±ì„ ê°€ì§„ë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.** ì´ëŸ° ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê°ì²´ê°€ ë™ì¼í•œ ë°ì´í„°ë¥¼ ì œì–´í•˜ëŠ” ë°©ë²•ë³´ë‹¤ ë” ê¹”ë”í•œ ê°ì²´ì§€í–¥ ë””ìì¸ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. `ì¶œíŒ-êµ¬ë…(Publisher-Subscribe) íŒ¨í„´`ì´ë¼ëŠ” ê²ƒë„ ë“¤ì–´ ë³¸ ì ì´ ìˆì–´ìš”. í˜¹ì‹œ ì˜µì €ë²„ íŒ¨í„´ì˜ ë‹¤ë¥¸ ì´ë¦„ì¸ê°€ìš”?
- **ì•„ë‡¨, ê´€ê³„ê°€ ìˆê¸´ í•˜ì§€ë§Œ ê°™ì§„ ì•Šì•„ìš”.** ì¶œíŒ-êµ¬ë… íŒ¨í„´ì€ êµ¬ë…ìê°€ ì„œë¡œ ë‹¤ë¥¸ ìœ í˜•ì˜ ë©”ì‹œì§€ì— ê´€ì‹¬ì„ ê°€ì§ˆ ìˆ˜ ìˆê³ , ì¶œíŒì‚¬ì™€ êµ¬ë…ìë¥¼ ë” ì„¸ì„¸í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ë³µì¡í•œ íŒ¨í„´ì…ë‹ˆë‹¤. ë¯¸ë“¤ì›¨ì–´ ì‹œìŠ¤í…œì—ì„œ ì¢…ì¢… ì“°ì…ë‹ˆë‹¤.

<br>
<br>

## ëŠìŠ¨í•œ ê²°í•©ì˜ ìœ„ë ¥

> **ê°ì²´ë“¤ì´ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ì„œë¡œë¥¼ ì˜ ëª¨ë¥´ëŠ” ê´€ê³„**
> 

ì˜µì €ë²„ íŒ¨í„´ì—ì„œ ì–´ë–¤ ì‹ìœ¼ë¡œ ëŠìŠ¨í•œ ê²°í•©ì„ ë§Œë“œëŠ”ê°€

- ì£¼ì œëŠ” ì˜µì €ë²„ê°€ íŠ¹ì • ì¸í„°í˜ì´ìŠ¤(Observer ì¸í„°í˜ì´ìŠ¤)ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ì‚¬ì‹¤ë§Œ ì•ˆë‹¤.
- ì˜µì €ë²„ëŠ” ì–¸ì œë“ ì§€ ìƒˆë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
- ìƒˆë¡œìš´ í˜•ì‹ì˜ ì˜µì €ë²„ë¥¼ ì¶”ê°€í•  ë•Œë„ ì£¼ì œë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì „í˜€ ì—†ë‹¤.
- ì£¼ì œì™€ ì˜µì €ë²„ëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì¬ì‚¬ìš© ê°€ëŠ¥
- ì£¼ì œë‚˜ ì˜µì €ë²„ê°€ ë‹¬ë¼ì ¸ë„ ì„œë¡œì—ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤.

### ìƒˆë¡œìš´ ë””ìì¸ ì›ì¹™

ğŸ’¡ **ìƒí˜¸ì‘ìš©í•˜ëŠ” ê°ì²´ ì‚¬ì´ì—ëŠ” ê°€ëŠ¥í•˜ë©´ ëŠìŠ¨í•œ ê²°í•©ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.**

- ëŠìŠ¨í•˜ê²Œ ê²°í•©í•˜ëŠ” ë””ìì¸ì„ ì‚¬ìš©í•˜ë©´ **ë³€ê²½ ì‚¬í•­ì´ ìƒê²¨ë„ ë¬´ë‚œíˆ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìœ ì—°í•œ ê°ì²´ì§€í–¥ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤.**
- `ê°ì²´ ìƒì˜ ìƒí˜¸ ì˜ì¡´ì„±`**ì„ ìµœì†Œí™”**í•  ìˆ˜ ìˆê¸° ë•Œë¬¸

<br>
<br>

## ê¸°ìƒ ìŠ¤í…Œì´ì…˜ ì„¤ê³„

[1] ì¸í„°í˜ì´ìŠ¤ - Subject

> ë©”ì„œë“œ: registerObserver() / removeObserver() / notifyObserver()
> 
- WeatherData

[2-1] ì¸í„°í˜ì´ìŠ¤ - Observer

> ì£¼ì œì—ì„œ ì˜µì €ë²„ì—ê²Œ ê°±ì‹ ëœ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì„ ì œê³µ
> 
> 
> ë©”ì„œë“œ: update()
> 

[2-2] ì¸í„°í˜ì´ìŠ¤ - DisplayElement

> ëª¨ë“  ë””ìŠ¤í”Œë ˆì´ ìš”ì†Œì— êµ¬í˜„ ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€
> 
> 
> ë©”ì„œë“œ: display()
> 
- CurrentConditionDisplay
- StatisticsDisplay
- ForcecastDisplay

<br>
<br>

## ê¸°ìƒ ìŠ¤í…Œì´ì…˜ ì½”ë“œ

```java
public interface Subject {
  public void registerObserver(Observer o); // ì˜µì €ê±° ë“±ë¡
  public void removeObserver(Observer o); // ì˜µì €ë²„ ì œê±°
  public void notifyObserver(Observer o); // ì£¼ì œì˜ ìƒíƒœê°€ ë³€í–ˆì„ ë•Œ ëª¨ë“  ì˜µì €ë²„ì—ê²Œ ë³€ê²½ ë‚´ìš©ì„ ì•Œë¦¬ëŠ” í•¨ìˆ˜
}

public interface Observer {
  public void update(float, temp, float humidity, float pressure); // ì˜µì €ë²„ì—ê²Œ ì¸¡ì •í•œ ê°’ì„ ì „ë‹¬
}

public interface DisplayElement {
  public void display();
}
```

### Subject ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

```java
public class WeatherData implements Subject {
  private List<Observer> observers; // ì˜µì €ë²„ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´
  private float temperature;
  private float humidity;
  private float pressure;
	
  public WeatherData() {
    observers = new ArrayList<Observer>(); // ìƒì„±
  }
	
  public void registerObserver(Observer o) {
    observers.add(o);
  }

  public void removeObserver(Observer o) {
    observers.remove(o);
  }
	
  // ì¤‘ìš”í•œ ë¶€ë¶„
  // ëª¨ë“  ì˜µì €ë²„ì—ê²Œ ìƒíƒœ ë³€í™”ë¥¼ ì•Œë ¤ì£¼ëŠ” ë¶€ë¶„
  public void notifyObservers() {
    for (Observer observer : observers) {
      observer.update(temperature, humidity, pressure);
    }
  }

  // ê¸°ìƒ ìŠ¤í…Œì´ì…˜ìœ¼ë¡œë¶€í„° ê°±ì‹ ëœ ì¸¡ì •ê°’ì„ ë°›ìœ¼ë©´ ì˜µì €ë²„ë“¤ì—ê²Œ ì•Œë¦°ë‹¤.
  public void measurementsChanged() {
    notifyObservers();
  }
	
  public void setMeasurements(float temperature, float humidity, float pressure) {
    this.temperature = temperature;
    this.humidity = humidity;
    this.pressure = pressure;
    measurementsChanged();
  }
    
  public float getTemperature() {
    return temperature;
  }
	
  public float getHumidity() {
    return humidity;
  }
	
  public float getPressure() {
    return pressure;
  }
}
```

### ë””ìŠ¤í”Œë ˆì´ ìš”ì†Œ êµ¬í˜„

```java
public class CurrentConditionsDisplay implements Observer, DisplayElement {
  private float temperature;
  private float humidity;
  private WeatherData weatherData;
	
  // ìƒì„±ìì— weatherDataë¼ëŠ” ì£¼ì œë¥¼ ì „ë‹¬ë˜ë©°, ë””ìŠ¤í”Œë ˆì´ì˜ ì˜µì €ë²„ë¡œ ë“±ë¡
  public CurrentConditionsDisplay(WeatherData weatherData) {
    this.weatherData = weatherData;
    weatherData.registerObserver(this);
  }
	
  // í˜¸ì¶œ ì‹œ ì˜¨ë„ì™€ ìŠµë„ë¥¼ ì €ì¥
  public void update(float temperature, float humidity, float pressure) {
    this.temperature = temperature;
    this.humidity = humidity;
    display();
  }
	
  // ê°€ì¥ ìµœê·¼ì— ë°›ì€ ì˜¨ë„ì™€ ìŠµë„ë¥¼ ì¶œë ¥
  public void display() {
    System.out.println("Current conditions: " + temperature 
    	+ "F degrees and " + humidity + "% humidity");
  }
}
```

### Q&A

1. update()ì—ì„œ dispay()ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì´ ì •ë§ ìµœì„ ì¸ê°€?
- ê°„ë‹¨í•œ ì˜ˆì œì—ì„œëŠ” ê´œì°®ì€ ë°©ë²•ì²˜ëŸ¼ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ ìµœì„ ì€ ì•„ë‹ˆë‹¤. ë°ì´í„°ë¥¼ í™”ë©´ì— í‘œì‹œí•˜ëŠ” ë” ì¢‹ì€ ë°©ë²•ì€ `12ì¥`ì—ì„œ `ëª¨ë¸-ë·°-ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´`ì„ ë°°ìš¸ ë•Œ ìì„¸í•˜ê²Œ ì•Œì•„ë³¸ë‹¤.
2. ì£¼ì œ ë ˆí¼ëŸ°ìŠ¤(`WeatherData`)ëŠ” ì™œ ì €ì¥í•˜ì£ ? ìƒì„±ì ë§ê³  ë‹¤ë¥¸ ë°ì„œëŠ” ì“¸ ì¼ì´ ì—†ì§€ ì•Šë‚˜ìš”?
- ë§ë‹¤. í•˜ì§€ë§Œ ì£¼ì œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë¯¸ë¦¬ ì €ì¥í•´ ë†“ìœ¼ë©´ ë‚˜ì¤‘ì— ì˜µì €ë²„ ëª©ë¡ì—ì„œ íƒˆí‡´í•  ë•Œ ìœ ìš©í•˜ê²Œ ì¨ë¨¹ì„ ìˆ˜ ìˆë‹¤.

### í…ŒìŠ¤íŠ¸

```java
public class WeatherStation {

  public static void main(String[] args) {
    WeatherData weatherData = new WeatherData();

    CurrentConditionsDisplay currentDisplay = 
    new CurrentConditionsDisplay(weatherData);
    StatisticsDisplay statisticsDisplay = new StatisticsDisplay(weatherData);
    ForecastDisplay forecastDisplay = new ForecastDisplay(weatherData);

    weatherData.setMeasurements(80, 65, 30.4f);
    weatherData.setMeasurements(82, 70, 29.2f);
    weatherData.setMeasurements(78, 90, 29.2f);
  }
}
```

<br>
<br>

## ê¸°íƒ€ Q&A

1. ìë°”ì—ëŠ” Observable í´ë˜ìŠ¤ë„ ìˆì§€ ì•Šì•˜ë‚˜ìš”?
- ìˆë‹¤. í•˜ì§€ë§Œ, ìë°” 9 ì´í›„ë¡œëŠ” ì“°ì´ì§€ ì•ŠëŠ”ë‹¤. ê°ì ìì‹ ì˜ ì½”ë“œì—ì„œ ê¸°ë³¸ì ì¸ ì˜µì €í¼ íŒ¨í„´ì„ ì§€ì›í•˜ëŠ”ê²Œ ë” í¸í•˜ë‹¤.
- ì´ í´ë˜ìŠ¤ë¥¼ ëŒ€ì‹  í•  ê¸°ëŠ¥ì„ íƒ‘ì¬í•´ì£¼ì—ˆë‹¤.
2. ì£¼ì œì—ì„œ ì˜µì €ë²„ë¡œ ì•Œë¦¼ì´ ê°€ëŠ” ìˆœì„œë¥¼ ì •í•´ì•¼ í•˜ë‚˜?
- Observerë¥¼ ì•Œë¦¼ ìˆœì„œì— ì˜ì¡´í•˜ì§€ ë§ë¼ëŠ” JDK ê¶Œê³ ê°€ ìˆë‹¤.

<br>
<br>

## í’€ ë°©ì‹ìœ¼ë¡œ ì½”ë“œ ë°”ê¾¸ê¸°

**ì£¼ì œì— ë“¤ì–´ìˆëŠ” ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì´ í•˜ë‚˜ ë” ìˆë‹¤.**

ğŸ’¡ **ì˜µì €ë²„ê°€ í•„ìš”í•  ë•Œë§ˆë‹¤ ì£¼ì œë¡œë¶€í„° ë°ì´í„°ë¥¼ ë‹¹ê²¨ì˜¤ë„ë¡ í•˜ëŠ” ë°©ì‹**

### ì£¼ì œì—ì„œ ì•Œë¦¼ ë³´ë‚´ê¸°

- ì˜µì €ë²„ì˜ update ë©”ì„œë“œë¥¼ ì¸ìì—†ì´ í˜¸ì¶œí•˜ë„ë¡ ìˆ˜ì •

```java
public void notifyObservers() {
  for (Observer observer : observers) {
    observer.update();
  }
}
```

### ì˜µì €ë²„ì—ì„œ ì•Œë¦¼ ë°›ê¸°

- Observer ì¸í„°í˜ì´ìŠ¤ì—ì„œ update ë©”ì„œë“œì— ë§¤ê°œë³€ìˆ˜ê°€ ì—†ë„ë¡ ì„œëª…ì„ ë°”ê¿”ì¤€ë‹¤.

```java
public interface Observer {
  public void update();
}
```

```java
public void update() {
  this.temperature = weatherData.getTemperature();
  this.humidity = weatherData.getHumidity();
  display();
}
```

<br>
<br>

## ë””ìì¸ ë„êµ¬ìƒì ì•ˆì— ë“¤ì–´ê°€ì•¼ í•  ë„êµ¬ë“¤

### ê°ì²´ì§€í–¥ ê¸°ì´ˆ

- ì¶”ìƒí™”
- ìº¡ìŠí™”
- ë‹¤í˜•ì„±
- ìƒì†

### ê°ì²´ì§€í–¥ ì›ì¹™

- ë°”ë€ŒëŠ” ë¶€ë¶„ì€ ìº¡ìŠí™”í•œë‹¤.
- ìƒì†ë³´ë‹¤ëŠ” êµ¬ì„±ì„ í™œìš©í•œë‹¤.
- êµ¬í˜„ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶°ì„œ í”„ë¡œê·¸ë˜ë°í•œë‹¤.
- **ìƒí˜¸ì‘ìš©í•˜ëŠ” ê°ì²´ ì‚¬ì´ì—ì„œëŠ” ê°€ëŠ¥í•˜ë©´ ëŠìŠ¨í•œ ê²°í•©ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.**

### ê°ì²´ì§€í–¥ íŒ¨í„´

- ì „ëµ íŒ¨í„´
- **ì˜µì €ë²„ íŒ¨í„´**
