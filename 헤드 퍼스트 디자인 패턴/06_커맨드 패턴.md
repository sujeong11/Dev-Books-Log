## ì»¤ë§¨ë“œ íŒ¨í„´ ì†Œê°œ

- **í´ë¼ì´ì–¸íŠ¸**: `create Command Object()`

> í´ë¼ì´ì–¸íŠ¸ëŠ” **ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ìƒì„±**í•œë‹¤. ì»¤ë§¨ë“œ ê°ì²´ëŠ” **ë¦¬ì‹œë²„ì—ê²Œ ì „ë‹¬í•  ì¼ë ¨ì˜ í–‰ë™ìœ¼ë¡œ êµ¬ì„±**ëœë‹¤.
> 
- **ì»¤ë§¨ë“œ**: `execute()`

> ì»¤ë§¨ë“œ ê°ì²´ì—ì„œ **ì œê³µí•˜ëŠ” ë©”ì„œë“œëŠ” execute() í•˜ë‚˜ë¿**ì´ë‹¤. ì´ ë©”ì„œë“œëŠ” **í–‰ë™ì„ ìº¡ìŠí™”í•˜ë©° ë¦¬ì‹œë²„ì— ìˆëŠ” íŠ¹ì • í–‰ë™ì„ ì²˜ë¦¬**í•œë‹¤.
> 
- **ì¸ë³´ì»¤**: `setCommand()`

> í´ë¼ì´ì–¸íŠ¸ëŠ” ì¸ë³´ì»¤ ê°ì²´ì˜ setCommand() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ”ë° ì´ ë•Œ **ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ë„˜ê²¨ì¤€ë‹¤.** ì»¤ë§¨ë“œ ê°ì²´ëŠ” **ë‚˜ì¤‘ì— ì“°ì´ê¸° ì „ê¹Œì§€ ì¸ë³´ì»¤ ê°ì²´ì— ë³´ê´€**ëœë‹¤.
> 
- **ì»¤ë§¨ë“œ**: `execute()`

> ì¸ë³´ì»¤ì—ì„œ **ì»¤ë§¨ë“œ ê°ì²´ì˜ execute() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´**â€¦
> 
- **ë¦¬ì‹œë²„**: `action1()`, `action2()`, â€¦

> **ë¦¬ì‹œë²„ì— ìˆëŠ” í–‰ë™ì˜ ë©”ì„œë“œê°€ í˜¸ì¶œ**ëœë‹¤.
> 
- ì •ë¦¬
    - `ì¸ë³´ì»¤ ë¡œë”©`
      
      [1] **í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì»¤ë§¨ë“œ ê°ì²´ ìƒì„±**
  
      [2] **setCommand()ë¥¼ í˜¸ì¶œí•´ì„œ ì¸ë³´ì»¤ì— ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì €ì¥**
  
      [3] **ë‚˜ì¤‘ì— í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¸ë³´ì»¤ì—ê²Œ ê·¸ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë¼ê³  ìš”ì²­**

<br>
<br>

## ì²« ë²ˆì§¸ ì»¤ë§¨ë“œ ê°ì²´ ë§Œë“¤ê¸°

- ì»¤ë§¨ë“œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

```java
public inteface Command {
  public void execute();
}
```

- ì¡°ëª… ì¼¤ ë•Œ í•„ìš”í•œ ì»¤ë§¨ë“œ í´ë˜ìŠ¤ êµ¬í˜„
- (Light í´ë˜ìŠ¤ì—ëŠ” on() / off()ë¼ëŠ” 2ê°œì˜ ë©”ì„œë“œê°€ ì¡´ì¬)

```java
public class LigtOnCommand implements Command {
  Light light;
	
  // ìƒì„±ìë¡œ ì´ ì»¤ë§¨ë“œ ê°ì²´ë¡œ ì œì–´í•  ê°ì²´ì˜ ì •ë³´ë¥¼ ì „ë‹¬
  public LigtOnCommand(Light light) {
    this.light = light;
  }

  // ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ light ê°ì²´ê°€ ë°”ë¡œ ê·¸ ìš”ì²­ì˜ ë¦¬ì‹œë²„ê°€ ëœë‹¤.
  public void execute() {
    light.on();
  }
}
```

### ì»¤ë§¨ë“œ ê°ì²´ ì‚¬ìš©í•˜ê¸°

```java
public class SimpleRemoteControl {
  Command slot; // ì»¤ë§¨ë“œ ê°ì²´ ì €ì¥ 
  public SimpleRemoteControl() {}
  
  public void setCommand(Command command) {
    slot = command;
  }
  
  // ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ë©”ì„œë“œ í˜¸ì¶œ
  public void buttonWasPressed() {
    slot.execute();
  }
}
```

- í…ŒìŠ¤íŠ¸

```java
public class RemoteControlTest {
  public static void main(String[] args) {
    SimpleRemoteControl remote = new SimpleRemoteControl(); // ì¸ë³´ì»¤
    Light light = new Light(); // ìš”ì²­ì„ ë°›ì•„ì„œ ì²˜ë¦¬í•  ë¦¬ì‹œë²„
    LightOnCommand lightOn = new LightOnCommand(light); // ë¦¬ì‹œë²„ë¥¼ ì „ë‹¬í•´ ì»¤ë§¨ë“œ ê°ì²´ ìƒì„±
    
    remote.setCommand(lightOn); // ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì¸ë³´ì»¤ì—ê²Œ ì „ë‹¬
    remote.buttonWasPressed(); // ë²„íŠ¼ ëˆ„ë¦„
  }
}
```

<br>
<br>

## ì»¤ë§¨ë“œ íŒ¨í„´ì˜ ì •ì˜

ğŸ’¡ **ìš”ì²­ ë‚´ì—­ì„ ê°ì²´ë¡œ ìº¡ìŠí™”í•´ì„œ ê°ì²´ë¥¼ ì„œë¡œ ë‹¤ë¥¸ ìš”ì²­ ë‚´ì—­ì— ë”°ë¼ ë§¤ê°œë³€ìˆ˜í™”í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬ë©´ ìš”ì²­ì„ íì— ì €ì¥í•˜ê±°ë‚˜ ë¡œê·¸ë¡œ ê¸°ë¡í•˜ê±°ë‚˜ ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.**

- `ì»¤ë§¨ë“œ ê°ì²´`ëŠ” **ì¼ë ¨ì˜ í–‰ë™ì„ íŠ¹ì • ë¦¬ì‹œë²„ì™€ ì—°ê²°í•¨ìœ¼ë¡œì¨ ìš”ì²­ì„ ìº¡ìŠí™”í•œ ê²ƒ**
    - ì´ëŸ¬ê¸° ìœ„í•´ **í–‰ë™ê³¼ ë¦¬ì‹œë²„ë¥¼ í•œ ê°ì²´**ì— ë„£ê³ , execute()ë¼ëŠ” ë©”ì„œë“œ í•˜ë‚˜ë§Œ ì™¸ë¶€ì— ê³µê°œí•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
    - ì´ ë©”ì„œë“œ í˜¸ì¶œì— ë”°ë¼ ë¦¬ì‹œë²„ì—ì„œ ì¼ë ¨ì˜ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.
    - **ë°–ì—ì„œëŠ” ì–´ë–¤ ê°ì²´ê°€ ë¦¬ì‹œë²„ ì—­í• ì„ í•˜ëŠ”ì§€, ê·¸ ë¦¬ì‹œë²„ê°€ ì–´ë–¤ ì¼ì„ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ê·¸ëƒ¥ execute() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ í•´ë‹¹ ìš”ì²­ì´ ì²˜ë¦¬ëœë‹¤ëŠ” ì‚¬ì‹¤ë§Œ ì•Œ ìˆ˜ ìˆë‹¤.**
- ëª…ë ¹ìœ¼ë¡œ ê°ì²´ë¥¼ `ë§¤ê°œë³€ìˆ˜í™”` ê°€ëŠ¥

## ë¦¬ëª¨ì»¨ ì½”ë“œ ë§Œë“¤ê¸°

```java
public class RemoteControl {
  // ë¦¬ëª¨ì»¨ì€ 7ê°œì˜ ON, OFF ëª…ë ¹ ì²˜ë¦¬ ê°€ëŠ¥
  Command[] onCommands;
  Command[] offCommands;
  
  public RemoteControl() {
    onCommands = new Command[7];
    offCommands = new Command[7];
    
    Command noCommand = new NoCommand();
    for (int i = 0; i < 7; i++) { // ê°ì²´ ì´ˆê¸°í™”
      onCommands[i] = noCommand;
      offCommands[i] = noCommand;
    }
  }
  
  // ìŠ¬ë¡¯ ë²ˆí˜¸ì™€ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ëŠ”ë‹¤.
  public void setCommand(int slot, Command onCommand, Command offCommand) {
    onCommands[slot] = onCommand;
    offCommands[slot] = offCommand;
  }
  
  public void onButtonWasPushed(int slot) {
    onCommands[slot].execute();
  }
  
  public void offButtonWasPushed(int slot) {
    offCommands[slot].execute();
  }
  
  // ìŠ¬ë¡¯ë³„ ëª…ë ¹ ì¶œë ¥
  public String toString() {
    StringBuffer stringBuff = new StringBuffer();
    stringBuff.append("\n----- ë¦¬ëª¨ì»¨ -----\n");
    for (int i = 0; i < onCommands.length; i++) {
      stringBuff.append("[slot " + i + "] " + onCommands[i].getClass().getName() + "   
        + offCommands[i].getClass().getName() + "\n");
    }
    return stringBuff.toString();
  }
}
```

### NoCommand ê°ì²´

```java
public void onButtonWasPushed(int slot) {
  if (onCommands[slot] != null) {
    onCommands[slot].execute();
  }
}
```

- ì¼ì„ ì¤„ì´ê¸° ìœ„í•´ ì•„ë¬´ ì¼ë„ í•˜ì§€ ì•ŠëŠ” ì»¤ë§¨ë“œ í´ë˜ìŠ¤ êµ¬í˜„í•œë‹¤.

```java
public class NoCommand implements Command {
  public void execute() { }
}
```

ğŸ’¡ **ê·¸ë¦¬ê³  ë‚˜ì„œ RemoteControl ìƒì„±ìì—ì„œ ëª¨ë“  ìŠ¬ë¡¯ì— ê¸°ë³¸ ì»¤ë§¨ë“œ ê°ì²´ë¡œ NoCommand ê°ì²´ë¥¼ ë„£ëŠ”ë‹¤. â†’ ëª¨ë“  ìŠ¬ë¡¯ì— ì»¤ë§¨ë“œ ê°ì²´ê°€ ë“¤ì–´ê°€ ìˆê²Œ ëœë‹¤.**

- NoCommand ê°ì²´ëŠ” ì¼ì¢…ì˜ `ë„ ê°ì²´`
- **ë”±íˆ ë¦¬í„´í•  ê°ì²´ë„ ì—†ê³  í´ë¼ì´ì–¸íŠ¸ê°€ nullì„ ì²˜ë¦¬í•˜ì§€ ì•Šê²Œ í•˜ê³  ì‹¶ì„ ë•Œ í™œìš©í•˜ë©´ ì¢‹ë‹¤.**

> ì´ë¥¼ ë””ìì¸íŒ¨í„´ìœ¼ë¡œ ë¶„ë¥˜í•˜ê¸°ë„ í•œë‹¤.
> 

<br>
<br>

## ì»¤ë§¨ë“œ í´ë˜ìŠ¤ ë§Œë“¤ê¸°

- ì•ì˜ LightOnCommand í´ë˜ìŠ¤ ì½”ë“œ ê·¸ëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥

```java
public class LigtOffCommand implements Command {
  Light light;
	
  public LigtOnCommand(Light light) {
    this.light = light;
  }

  public void execute() {
    light.off();
  }
}
```

- ì¶”ê°€ êµ¬í˜„: ì˜¤ë””ì˜¤
- Stereo ê°ì²´ì—ëŠ” on(), off(), setCd(), setDvd(), SetRadio(), setVolume() ë©”ì†Œë“œ ì¡´ì¬

```java
public class StereoOnWithCDCommand implements Command {
  Stereo stereo;
  
  public StereoOnWithCDCommand(Stereo stereo) {
    this.stereo = stereo;
  }

  public void execute() {
    stereo.on();
    stereo.setCD();
    setreo.setVolume(5);
  }
}
```

<br>
<br>

## ë¦¬ëª¨ì»¨ í…ŒìŠ¤íŠ¸

```java
public class RemoteLoader {
	
  public static void main(String[] args) {
    RemoteControl remoteControl = new RemoteControl();
      
    Light livingRoomLight = new Light("Living Room");
    Light kitchenLight = new Light("Kitchen");
    Stereo stereo = new Stereo("Living Room");
    
    // ì¡°ëª…ìš© ì»¤ë§¨ë“œ ê°ì²´ 
    LightOnCommand livingRoomLightOn = new LightOnCommand(livingRoomLight);
    LightOffCommand livingRoomLightOff = new LightOffCommand(livingRoomLight);
    LightOnCommand kitchenLightOn = new LightOnCommand(kitchenLight);
    LightOffCommand kitchenLightOff = new LightOffCommand(kitchenLight);
    
    // ì˜¤ë””ì˜¤ìš© ì»¤ë§¨ë“œ ê°ì²´
    StereoOnWithCDCommand stereoOnWithCD = new StereoOnWithCDCommand(stereo);
    StereoOffWithCDCommand stereoOff = new StereoOffCommand(stereo);
    
    remoteControl.setCommand(0, livingRoomLightOn, livingRoomLightOff);
    remoteControl.setCommand(1, kitchenLightOn, kitchenLightOff);
    remoteControl.setCommand(2, stereoOnWithCD, stereoOff);
    
    // ìŠ¬ë¡¯ ì •ë³´ ì¶œë ¥
    System.out.println(remoteControl);
    
    remoteControl.onButtonWasPushed(0);
    remoteControl.onButtonWasPushed(1);
    remoteControl.onButtonWasPushed(2);
    remoteControl.offButtonWasPushed(1);
    remoteControl.offButtonWasPushed(0);
  }
}
```

### ëŒë‹¤ í‘œí˜„ì‹ì„ ì¨ì„œ ê³ ì¹œ ì½”ë“œ

> ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ëŠ” ëŒ€ì‹  ê·¸ ìë¦¬ì— `í•¨ìˆ˜ ê°ì²´` ì‚¬ìš© ê°€ëŠ¥
> 

```java
remoteControl.setCommand(0, () -> livingRommLight.on(), () -> livingRommLight.off());
```

<br>
<br>

## ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°

- ì»¤ë§¨ë“œ ì¸í„°í˜ì´ìŠ¤

```java
public interface Command {
  public void execute();
  public void undo();
}
```

- LigtOnCommandì— undo() ì¶”ê°€

```java
public class LigtOnCommand implements Command {
  Light light;
	
  public LigtOnCommand(Light light) {
    this.light = light;
  }

  public void execute() {
    light.on();
  }

  public void undo() {
    light.off();
  }
}
```

- LigtOffCommandì— undo() ì¶”ê°€

```java
public class LigtOffCommand implements Command {
  Light light;
	
  public LigtOffCommand(Light light) {
    this.light = light;
  }

  public void execute() {
    light.off();
  }

  public void undo() {
    light.on();
  }
}
```

- RemoteControlì— ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ ì¶”ê°€

```java
public class RemoteControlWithUndo {
  Command[] onCommands;
  Command[] offCommands;
  Command undoCommand; // undo ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ì‚¬ìš©í•  ê°ì²´
  
  public RemoteControlWithUndo() {
    onCommands = new Command[7];
    offCommands = new Command[7];
    
    Command noCommand = new NoCommand();
    for (int i = 0; i < 7; i++) {
      onCommands[i] = noCommand;
      offCommands[i] = noCommand;
    }
    undoCommand = noCommand; // ë„ ê°ì²´ë¡œ ì´ˆê¸°í™”
  }
  
  public void setCommand(int slot, Command onCommand, Command offCommand) {
    onCommands[slot] = onCommand;
    offCommands[slot] = offCommand;
  }
  
  public void onButtonWasPushed(int slot) {
    onCommands[slot].execute();
    undoCommand = onCommands[slot]; // ì‹¤í–‰í•œ ê¸°ëŠ¥ì„ undo ê°ì²´ì— ì €ì¥
  }
  
  public void offButtonWasPushed(int slot) {
    offCommands[slot].execute();
    undoCommand = offCommands[slot]; // ì‹¤í–‰í•œ ê¸°ëŠ¥ì„ undo ê°ì²´ì— ì €ì¥
  }

  // undo ë²„íŠ¼ì´ ëˆ„ë¦¬ë©´ undo ê°ì²´ì— ì €ì¥ëœ ê°ì²´ë¥¼ ì‚¬ìš©
  public void undoButtonWasPushed(int slot) {
    undoCommand.undo();
  }
  
  public String toString() {
    StringBuffer stringBuff = new StringBuffer();
    stringBuff.append("\n----- ë¦¬ëª¨ì»¨ -----\n");
    for (int i = 0; i < onCommands.length; i++) {
      stringBuff.append("[slot " + i + "] " + onCommands[i].getClass().getName() + "   
        + offCommands[i].getClass().getName() + "\n");
    }
    return stringBuff.toString();
  }
}
```

<br>
<br>

## ì—¬ëŸ¬ ë™ì‘ì„ í•œ ë²ˆì— ì²˜ë¦¬í•˜ê¸°

```java
public class MacroCOmmand implements Commad {
  Command[] commands;
    
  public MacroCommand(Command[] commands) {
    this.commands = commands;
  }
  
  public void execute() {
    for (int i = 0; i < commands.length; i++) {
      commands[i].execute();
    }
  }
}
```

### ë§¤í¬ë¡œ ì»¤ë§¨ë“œ ì‚¬ìš©í•˜ê¸°

- ë§¤í¬ë¡œì— ë„£ì„ ì¼ë ¨ì˜ ì»¤ë§¨ë“œë¥¼ ë§Œë“ ë‹¤.

```java
Light light = new Light("Living Room");
TV tv = new TV("Living Room");
Stereo stereo = new Stereo("Living Room");

LightOnCommand lightOn = new LightOnCommand(light);
TVOnCommand tvOn = new TVOnCommand(tv);
StereoOnCommand stereoOn = new StereoOnCommand(stereo);
```

- ON ì»¤ë§¨ë“œì™€ OFF ì»¤ë§¨ë“œìš© ë°°ì—´ì„ í•˜ë‚˜ì”© ë§Œë“¤ê³  í•„ìš”í•œ ì»¤ë§¨ë“œë¥¼ ë„£ëŠ”ë‹¤.

```java
Command[] partyOn = { lightOn, tvOn, stereoOn };
Command[] partyOff = { lightOff, tvOff, stereoOff };

MacroCommand partyOnMacro = new MacroCommand(partyOn);
MacroCommand partyOffMacro = new MacroCommand(partyOff);
```

- MacroCommand ê°ì²´ë¥¼ ë²„íŠ¼ì— í• ë‹¹

```java
remoteControl.setCommand(0, partyOnMacro, partyOffMacro);
```

- ë™ì‘ í™•ì¸

```java
System.out.println(remoteControl);
System.out.println("--- ë§¤í¬ë¡œ ON ---");
remoteControl.onButtonWasPushed(0);
System.out.println("--- ë§¤í¬ë¡œ OFF ---");
remoteControl.offButtonWasPushed(0);
```

<br>
<br>

## Q&A

1. í•­ìƒ ë¦¬ì‹œë²„ê°€ í•„ìš”í•œê°€? ì»¤ë§¨ë“œ ê°ì²´ì— execute()ë¥¼ êµ¬í˜„í•˜ë©´ ì•ˆë˜ë‚˜?
- ê°€ëŠ¥í•˜ë‹¤. ë‹¨, **ì¸ë³´ì»¤ì™€ ë¦¬ì‹œë²„ë¥¼ ë¶„ë¦¬í•˜ê¸° ì–´ë µê³ , ë¦¬ì‹œë²„ë¡œ ì»¤ë§¨ë“œë¥¼ ë§¤ê°œë³€ìˆ˜í™”í•  ìˆ˜ ì—†ë‹¤.**

<br>
<br>

## ì»¤ë§¨ë“œ íŒ¨í„´ í™œìš©í•˜ê¸°

- ìŠ¤ì¼€ì¤„ëŸ¬ë‚˜ ìŠ¤ë ˆë“œ í’€, ì‘ì—… íì™€ ê°™ì€ ë‹¤ì–‘í•œ ì‘ì—…ì— ì ìš© ê°€ëŠ¥
    - ìŠ¤ë ˆë“œëŠ” íì—ì„œ ì»¤ë§¨ë“œë¥¼ í•˜ë‚˜ì”© ì œê±°í•˜ë©´ì„œ ì»¤ë§¨ë“œì˜ execute() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.
    - ë©”ì„œë“œ ì‹¤í–‰ì´ ëë‚˜ë©´ ë‹¤ì‹œ ì¿ ì—ì„œ ìƒˆë¡œìš´ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ê°€ì ¸ê°„ë‹¤.
- ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë‹¤ìš´ë˜ì—ˆì„ ë•Œ ê·¸ í–‰ë™ì„ ë‹¤ì‹œ í˜¸ì¶œí•´ì„œ ë³µêµ¬ ê°€ëŠ¥
    - store()ì™€ load() ë©”ì„œë“œë¥¼ ì¶”ê°€í•´ì„œ ì´ëŸ° ê¸°ëŠ¥ êµ¬í˜„ ê°€

<br>
<br>

## ë””ìì¸ ë„êµ¬ìƒì ì•ˆì— ë“¤ì–´ê°€ì•¼ í•  ë„êµ¬ë“¤

- `ì»¤ë§¨ë“œ íŒ¨í„´`: ìš”ì²­ ë‚´ì—­ì„ ê°ì²´ë¡œ ìº¡ìŠí™”í•´ì„œ ê°ì²´ë¥¼ ì„œë¡œ ë‹¤ë¥¸ ìš”ì²­ ë‚´ì—­ì— ë”°ë¼ **ë§¤ê°œë³€ìˆ˜í™”**í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬ë©´ **ìš”ì²­ì— íì— ì €ì¥**í•˜ê±°ë‚˜ **ë¡œê·¸ë¡œ ê¸°ë¡**í•˜ê±°ë‚˜ **ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥**ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
