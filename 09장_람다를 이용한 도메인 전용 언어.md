DSL은 작은, 범용이 아니라 특정 도메인을 대상으로 만들어진 특수 프로그래밍 언어다. DSL은 **특정 도메인 모델에 적용할 친화적이고** `가독성 높은 API를 제공`한다.

<br>

## 10.1 도메인 전용 언어

DSL은 범용 프로그래밍 언어가 아니라 동작과 용어가 `특정 도메인에 국한`되므로 **오직 자신의 앞에 놓은 문제를 어떻게 해결할지에만 집중** 할 수 있다. **저수준 구현 세부 사항 메서드는 클래스의 비공개로 만들어서 숨길 수 있다.**

### DSL의 장점과 단점

- **장점**: 간결함, 가독성, 유지보수, 높은 수준의 추상화, 집중, 관심사분리
- **단점**: DSL 설계 어려움, 개발 비용, 추가 우회 계층, 새로 배워야 하는 언어, 호스팅 언어 한계 (람다 표현식은 이를 해결한 위한 새 도구)

### JVM에서 이용할 수 있는 다른 DSL 해결책

DSL은 자바가 아닌 다른 언어로 구현하는 것도 가능하다.

[1] `내부 DSL`: 자바로 구현한 DSL

[2] `다중 DSL`: 같은 자바 바이트코드를 사용하는 JVM 기반 프로그래밍 언어를 이용 

[3] `외부 DSL`

<br>

## 10.2 최신 자바 API의 작은 DSL

```java
Collections.sort(persons, new Comparator<Person>() {
	public int compare(Person p1, Person p2) {
		return p1.getAge() - p2.getAge();
	}
});

// 내부 클래스를 람다 표현식으로 구현 가능
// 정적으로 Comapator.comparing 메서드 + 메서드 참
Collections.sort(persons, comparing(Person::getAge));

// List 인터페이스에 추가된 새 sort 메서드 활용
persons.sort(comparing(Person::getAge));
```

**이 작은 API는 컬렉션 정렬 도메인의 최소 DSL**이다. 작은 영역에 국한된 예제이지만 이미 람다와 메서드 참조를 이용한 DSL이 코드의 가독성, 재사용성, 결합성을 높일 수 있는지 보여준다.

### 스트림 API는 컬렉션을 조작하는 DSL

`Stream`은 컬렉션의 항목을 필터, 정렬, 변환, 그룹화, 조작하는 **작지만 강력한 DSL**로 볼 수 있다.

`플루언트 스타일(형식)`: 스트림 API의 특성인 **메서드 체인을 보통 자바의 루프의 복잡한 제어와 비교해 유창함을 의미**하는 것이다. 모든 **중간 연산은 게으르며** 다른 연산으로 **파이프라인**이 될 수 있는 스트림으로 변환된다. 최종 연산은 적극적이며 전체 파이프라인 계산을 일으킨다.

### 데이터를 수집하는 DSL인 Collectors

`Collector 인터페이스`는 데이터 수집을 수행하는 DSL로 간주할 수 있다.

Stream API은 2개의 Compartor를 연결할 때 **플루언트 스타일**로 연결하지만, Collectors API는 **중첩**을 이용해 다중 수준의 Collector를 만들 수 있다. 여러 개의 컴포넌트를 조합할 때는 **중첩 형식보다 플루언트 스타일이 더 가독성이 좋다.** 클래스를 만들어 중첩 대신 플루언트 스타일로 코드 작성이 가능하지만, **자바만을 사용해 코드를 직관적으로 작성하기는 쉽지 않다.**
